!function(){"use strict";var routeLib="/ng-math-factory/src";angular.module("ng-math-factory",["math.methods","math.general","math.adjust-curve","math.search-raiz","math.numeric-integration"]).factory("$math",["$methods","adjustCurve","general","searchRaiz","numericIntegration",function($methods,adjustCurve,general,searchRaiz,numericIntegration){function resolve(method,input,routeDep,callback){for(var methods_factory=$methods,i=0;i<methods_factory.length;i++)if(method.name===methods_factory[i].name){if(void 0!==methods_factory[i].libs)for(var k=0;k<methods_factory[i].libs.length;k++){var oHead=document.getElementsByTagName("head")[0],oScript=document.createElement("script");oScript.type="text/javascript",oScript.charset="utf-8",oScript.src=routeDep+routeLib+methods_factory[i].libs[k],oHead.appendChild(oScript)}var res=eval(methods_factory[i].factory+'["'+method.sub+'"]("'+input+'")'),html=methods_factory[i].html;html.resolve=routeDep+routeLib+html.resolve,html.graphics=void 0===html.graphics?void 0:routeDep+routeLib+html.graphics,callback(res,html);break}}function getMethods(){return $methods}return{resolve:resolve,getMethods:getMethods}}])}(),function(){"use strict";angular.module("math.methods",[]).factory("$methods",function(){var e="/ng-math-factory/src";return[{name:"General",sub:[{name:"Operación basica",in:"formula",readme:e+"/general/readme/op_basic.html"}],html:{resolve:"/general/view_general.html"},factory:"general"},{name:"Ajuste de curvas",sub:[{name:"Mínimos cuadrados",in:"xy"}],html:{resolve:"/adjust_curve/view_adjust_curve.html",graphics:"/adjust_curve/view_graphics.html"},factory:"adjustCurve"},{name:"Búsqueda de raíces",sub:[{name:"Punto fijo",in:"formula",readme:e+"/search_raiz/readme/point_fixed.html"},{name:"Bisección",in:"formula",readme:e+"/search_raiz/readme/bisection.html"},{name:"Newton Raphson",in:"formula",readme:e+"/search_raiz/readme/newton.html"},{name:"Regla falsa",in:"formula",readme:e+"/search_raiz/readme/rule_false.html"}],html:{resolve:"/search_raiz/view_search_raiz.html"},factory:"searchRaiz"},{name:"Integración numérica",sub:[{name:"Simpson 1/3",in:"formula",readme:e+"/numeric_integration/readme/simpsonOnethird.html"},{name:"Regla del trapecio",in:"formula",readme:e+"/numeric_integration/readme/trapezoid.html"}],html:{resolve:"/numeric_integration/view_numeric_integration.html"},factory:"numericIntegration"}]})}(),function(){"use strict";angular.module("math.adjust-curve",[]).factory("adjustCurve",function(){function e(e){for(var a,r,t,o,n={options:{tooltip:{style:{padding:10,fontWeight:"bold"}}},series:[{name:"Puntos",data:[1,2,3,4,5,6],type:"scatter",id:"series-0"},{name:"R",data:[3,1],type:"line",id:"series-1"}],title:{text:"Mínimos cuadrados"},useHighStocks:!1},l=e.length,i={solveTable:[{x:"X",y:"Y",a:"X * Y",b:"χ²",c:"a + b X",d:"Y - Ŷ"}],solveSum:[{symbol:"Σχ:",value:0},{symbol:"ΣY:",value:0},{symbol:"Σ(X * Y):",value:0},{symbol:"Σ(χ²):",value:0},{symbol:"Σ(Y - Ŷ):",value:0}],solveAB:[],solveR:""},s=0,u=0;u<l;u++)""===e[u].x&&(e[u].x=0),""===e[u].y&&(e[u].y=0),a=e[u].x*e[u].y,r=Math.pow(e[u].x,2),t=a+(r+e[u].x),o=e[u].y-t,s+=Math.pow(e[u].y,2),i.solveTable.push({x:e[u].x,y:e[u].y,a:a,b:r,c:t,d:o});for(u=1;u<i.solveTable.length;u++)i.solveSum[0].value+=i.solveTable[u].x,i.solveSum[1].value+=i.solveTable[u].y,i.solveSum[2].value+=i.solveTable[u].a,i.solveSum[3].value+=i.solveTable[u].b,i.solveSum[4].value+=i.solveTable[u].d;i.solveAB[1]=(l*i.solveSum[2].value-i.solveSum[0].value*i.solveSum[1].value)/(l*i.solveSum[3].value-Math.pow(i.solveSum[0].value,2)),i.solveAB[0]=(i.solveSum[1].value+i.solveAB[1]*i.solveSum[0].value)/l;var c=i.solveSum[2].value,m=i.solveSum[0].value,v=i.solveSum[1].value,h=i.solveSum[3].value,f=(h-Math.pow(m,2)/l)*(s-Math.pow(v,2)/l);i.solveR=(c-m*v/l)/Math.sqrt(f,2),i.solveR2=Math.pow(i.solveR,2),i.graphics=[];var p=[],d=[],g=[];for(u=1;u<i.solveTable.length;u++)p.push([i.solveTable[u].x,i.solveTable[u].y]),d.push(i.solveTable[u].y),g.push(i.solveTable[u].x);return n.series[0].data=p,n.series[1].data=[[0,Math.min(d)],[Math.max(g),Math.max(d)]],i.graphics=n,i}return{"Mínimos cuadrados":e}})}(),function(){"use strict";angular.module("math.general",[]).factory("general",function(){function op_basic(input){var solucion=eval(input);return solucion}function derivar(e){var a;try{a=deriveExpression(e)}catch(e){a="Expresiones invalidas."}return a}return{"Operación basica":op_basic,Derivar:derivar}})}(),function(){"use strict";angular.module("math.numeric-integration",[]).factory("numericIntegration",function(){function e(e){var a;a=[1,2,3,4,5];for(var r=e.a,t=e.b,o=e.n,n=(t-r)/o,l=0,i=2;i<a.length-1;i+=2)l+=a[i];var s=0;for(i=1;i<a.length-1;i+=2)s+=a[i];var u=n*(a[a.length-1]+a[0]+4*s+2*l);return u}function a(e){var a;a=[1,2,3,4,5];for(var r=e.a,t=e.b,o=e.n,n=(t-r)/o,l=0,i=1;i<a.length-1;i++)l+=a[i];var s=n*(a[a.length-1]+a[0]+2*l);return s}return{"Simpson 1/3":e,"Regla del trapecio":a}})}(),function(){"use strict";angular.module("math.search-raiz",[]).factory("searchRaiz",function(){function point_fixed(e){e=parse_input(e),console.log(e);var a=0,r=0,t=0,o=e.x1;r=parseFloat(o);for(var n=0;n<e.iteracion;n++)a=r,r=replaceValues(e.funcion,o),t=100*Math.abs((r-a)/r),o=r;return console.log("xr: "+r+" error"+t),{XR:r,error:t}}function bisection(e){e=parse_input(e),console.log(replaceValues(e.funcion,e.x2)),console.log(replaceValues(e.funcion,e.x1));var a=replaceValues(e.funcion,e.x1),r=replaceValues(e.funcion,e.x2);if(a<=0&&r>=0||a>=0&&r<=0){for(var t,o,n,l=e.x1,i=0,s=0;s<e.iteracion;s++)i=l,l=(parseFloat(e.x1)+parseFloat(e.x2))/2,t=replaceValues(e.funcion,parseFloat(e.x1)),o=replaceValues(e.funcion,l),n=100*Math.abs((l-i)/l),t*o<=0?e.x2=l:e.x1=l;return{XR:l,error:n}}return{XR:"no valido",error:"100%"}}function newton(e){}function rule_false(e){e=parse_input(e);var a=replaceValues(e.funcion,e.x1),r=replaceValues(e.funcion,e.x2);if(a<=0&&r>=0||a>=0&&r<=0){for(var t,o,n,l,i=e.x2,s=0,u=0;u<e.iteracion;u++)s=i,t=replaceValues(e.funcion,parseFloat(e.x1)),o=replaceValues(e.funcion,parseFloat(e.x2)),i=parseFloat(e.x2)-o*(parseFloat(e.x1)-parseFloat(e.x2))/(t-o),l=100*Math.abs((i-s)/i),n=replaceValues(e.funcion,i),t*n<=0?e.x2=i:e.x1=i;return{XR:i,error:l}}return{XR:"no valido",error:"100%"}}function parse_input(e){var a=e.split(";");return{funcion:a[0],x1:parseInt(a[1]),x2:parseInt(a[2]),iteracion:parseInt(a[3])}}function replaceValues(funcion,x){return funcion=replaceOthers(funcion,"pow"),funcion=replaceOthers(funcion,"x",x),eval(funcion)}function replaceAll(e,a,r){return e.replace(new RegExp(a,"g"),r)}function replaceOthers(e,a,r){if(e=replaceAll(e," ",""),"pow"==a)for(;e.indexOf("^")!=-1;)e=e.replace("^","**");else if("x"==a)for(var t=e.indexOf("x");t!=-1;){var o=void 0!==e[t-1]&&isNumeric(e[t-1]),n=void 0!==e[t+1]&&isNumeric(e[t+1]);e=o&&n?e.replace("x","*"+r+"*"):o?e.replace("x","*"+r):n?e.replace("x",r+"*"):e.replace("x",r),t=e.indexOf("x")}return e}function isNumeric(e){return e-0==e&&(""+e).trim().length>0}return{"Bisección":bisection,"Punto fijo":point_fixed,"Newton Raphson":newton,"Regla falsa":rule_false}})}();